# Vim

## 正常模式

### 移动命令

| 命令 | 重要性 | 描述 |
| :--- | :--- | :--- |
| h / \[num\] h | \*\(手长的人可以用方向键代替\) | 左移{1/n}个 |
| j / \[num\] j | \* | 下移{1/n}个 |
| k / \[num\] k | \* | 上移{1/n}个 |
| l / \[num\] l | \* | 右移{1/n}个 |
| **w** / e | \*\*\*\(非常方便\) | 前进移动一个单词，停在{下个单词首/当前单词尾} |
| **b** / ge | \*\*\* | 后退移动一个单词，停在{上个单词首/当前单词尾} |
| ^ |  | 移动到本行第一个非空字符 |
| 0 / &lt;home&gt; | \*\*\(用0比较快，手长的可以用home\) | 移动到行首 |
| $ / &lt;end&gt; | \*\*\(左手小拇指灵活用$, 右手长用end\) | 移动到行尾 |
| gg |  | 移动到文件头 |
| &lt;shift&gt; + g | \(告诫进文件看有多少行的人，wc -l更方便\) | 移动到文件尾 |

### 删除命令

| 命令 | 重要性 | 描述 |
| :--- | :--- | :--- |
| **u** | \*\*\*\(跟删除放在一起是有原因的\) | 撤销上一步编辑操作 |
| x / dl / \[delete\] | \*\*\* | 删除当前字符 |
| \[num\] x | \*\* | 删除\[num\]个字符 |
| X / dh | \* | 删除 上个字符 |
| dd | \*\*\*\(常用\) | 删除当前行 |
| d\[num\]d / \[num\]dd | \*\* | 删除\[num\]行 |
| dj / dk |  | 删除{上/下}一行 |
| D / d$ | \*\*\(不用连按x/delete了\) | 删除光标至行尾 |
| dgg | ---\(小心使用\) | 删除当前光标至文件头 |
| dG | --- | 删除当前光标至文件尾 |
| J | \*\* | 删除当前行以后的空行直到有内容 |
| 速记: d+{移动命令} | \*\*\*\* | 删除当前光标到移动命令目标位置内容 |

### 拷贝/剪切/撤销命令

| 命令 | 重要性 | 描述 |
| :--- | :--- | :--- |
| u | \*\*\(方便取消操作\) | 撤销上次编辑操作 |
| U |  | 撤销对整行的所有操作 |
| &lt;ctrl&gt; + r | \*\* | 重做撤销的操作 |
| yy | \*\*\*\(面向github编程的基础\) | 拷贝当前行 |
| y\[num\]y / \[num\] yy | \*\*\*\(同上\) | 拷贝\[Num\]行 |
| p | \*\*\* | 粘贴yy或者dd的内容 |

### 多文件命令

| 命令 | 重要性 | 描述 |
| :--- | :--- | :--- |
| vim file1 file2 file3 | \*\*\*\(入口命令\) | 打开文件 |
| :open file |  | 当前vim窗口打开文件 |
| :split file | \*\*\(多文件下常用\) | 水平切割窗口打开文件 |
| :vsplit file | \*\*\(多文件下常用\) | 垂直切割窗口打开文件 |
| \[ctrl\]+w\*2 | \*\* | 切换到下一个窗口 |
| \[ctrl\]+w+{左右方向键/ hl } | \*\* | 切换到指定方向窗口 |

### 查找/替换命令

| 命令 | 重要性 | 描述 |
| :--- | :--- | :--- |
| /\[text\] | \*\*\* | 向下查找text，按n查找下一个，按N查找上一个 |
| ?\[text\] | \*\* | 向上查找text，按n查找下一个\(向上方向\)，按N查找上一个 |
| s/\[old\_text\]/\[new\_text\] |  | 替换当前行第一个匹配 |
| s/\[old\_text\]/\[new\_text\]/g | \* | 替换当前行所有匹配 |
| %s/\[old\_text\]/\[new\_text\]/g | \*\*\* | 替换所有行所有匹配 |

### 功能项

| 命令 | 重要性 | 描述 |
| :--- | :--- | :--- |
| :wq | \*\*\* | 写入并退出 |
| :q! | \*\*\* | 放弃缓存区内容强制退出 |
| :x |  | 如果有更改就写入退出，没有就直接退出，差别是:w一定会更新文件metadata中的修改时间 |
| q | \*\*\(当有大量重复输入时很有用\) | 录制宏，按q开始录制，按q结束，返回宏名称，@\[宏名称\]运行宏 |
| :!\[command\] | \*\*\*\(不用退出vim就能执行bash命令\) | 执行bash命令 |
| :suspend / &lt;ctrl&gt; + z | \*\*\*\(结合fg使用\) | 切换至bash页面，在bash下fg切换回vim |
| i | \*\*\* | 进入编辑模式 |
| o | \*\*\* | 添加新行并进入编辑模式 |
| &lt;Esc&gt; | \*\*\* | 退出至正常模式 |



